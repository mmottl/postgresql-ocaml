<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>result (postgresql.Postgresql.result)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">postgresql</a> &#x00BB; <a href="../index.html">Postgresql</a> &#x00BB; result</nav><h1>Class type <code>Postgresql.result</code></h1><p>Class type of query results.</p><p>Indices of tuples and fields start at 0!</p></header><dl><dt class="spec method" id="method-status"><a href="#method-status" class="anchor"></a><code><span class="keyword">method</span> status : <a href="../index.html#type-result_status">result_status</a></code></dt><dd><p><code>#status</code></p><dl><dt>returns</dt><dd><p>status of a command/query result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-error"><a href="#method-error" class="anchor"></a><code><span class="keyword">method</span> error : string</code></dt><dd><p><code>#error</code></p><dl><dt>returns</dt><dd><p>error string of a result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-error_field"><a href="#method-error_field" class="anchor"></a><code><span class="keyword">method</span> error_field : <a href="../Error_field/index.html#type-t">Error_field.t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>#error_field</code></p><dl><dt>returns</dt><dd><p>message of given error field in a result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-error_code"><a href="#method-error_code" class="anchor"></a><code><span class="keyword">method</span> error_code : <a href="../Error_code/index.html#type-t">Error_code.t</a></code></dt><dd><p><code>#error_code</code></p><dl><dt>returns</dt><dd><p>the error code of the error condition as stored in the SQLSTATE field.</p></dd></dl></dd></dl><aside><p>Retrieving SELECT Result Information</p></aside><dl><dt class="spec method" id="method-ntuples"><a href="#method-ntuples" class="anchor"></a><code><span class="keyword">method</span> ntuples : int</code></dt><dd><p><code>#ntuples</code></p><dl><dt>returns</dt><dd><p>the number of tuples of a query result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-nparams"><a href="#method-nparams" class="anchor"></a><code><span class="keyword">method</span> nparams : int</code></dt><dd><p><code>#nparams</code></p><dl><dt>returns</dt><dd><p>the number of parameters of a prepared statement. This function is only useful when inspecting the result of <code>#describe_prepared</code>. For other types of queries it will return zero.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-nfields"><a href="#method-nfields" class="anchor"></a><code><span class="keyword">method</span> nfields : int</code></dt><dd><p><code>#nfields</code></p><dl><dt>returns</dt><dd><p>the number of fields in a query result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-fname"><a href="#method-fname" class="anchor"></a><code><span class="keyword">method</span> fname : int <span>&#45;&gt;</span> string</code></dt><dd><p><code>#fname n</code></p><dl><dt>returns</dt><dd><p>the name of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-fnumber"><a href="#method-fnumber" class="anchor"></a><code><span class="keyword">method</span> fnumber : string <span>&#45;&gt;</span> int</code></dt><dd><p><code>#fnumber field</code></p><dl><dt>returns</dt><dd><p>the index of the field named <code>field</code>.</p></dd></dl><dl><dt>raises Not_found</dt><dd><p>if no such named field.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-fformat"><a href="#method-fformat" class="anchor"></a><code><span class="keyword">method</span> fformat : int <span>&#45;&gt;</span> <a href="../FFormat/index.html#type-t">FFormat.t</a></code></dt><dd><p><code>#fformat n</code></p><dl><dt>returns</dt><dd><p>the format of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-ftype"><a href="#method-ftype" class="anchor"></a><code><span class="keyword">method</span> ftype : int <span>&#45;&gt;</span> <a href="../index.html#type-ftype">ftype</a></code></dt><dd><p><code>#ftype n</code></p><dl><dt>returns</dt><dd><p>the type of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Oid</dt><dd><p>if there was no corresponding ftype for the internal <code>oid</code>.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-ftype_oid"><a href="#method-ftype_oid" class="anchor"></a><code><span class="keyword">method</span> ftype_oid : int <span>&#45;&gt;</span> <a href="../index.html#type-oid">oid</a></code></dt><dd><p><code>#ftype n</code></p><dl><dt>returns</dt><dd><p>the oid of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-paramtype"><a href="#method-paramtype" class="anchor"></a><code><span class="keyword">method</span> paramtype : int <span>&#45;&gt;</span> <a href="../index.html#type-ftype">ftype</a></code></dt><dd><p><code>#paramtype n</code></p><dl><dt>returns</dt><dd><p>the datatype of the indicated statement parameter. Parameter numbers start at 0. This function is only useful when inspecting the result of <code>#describe_prepared</code>. For other types of queries it will return zero.</p></dd></dl><dl><dt>raises Oid</dt><dd><p>if there was no corresponding ftype for the internal <code>oid</code>.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-paramtype_oid"><a href="#method-paramtype_oid" class="anchor"></a><code><span class="keyword">method</span> paramtype_oid : int <span>&#45;&gt;</span> <a href="../index.html#type-oid">oid</a></code></dt><dd><p><code>#paramtype n</code></p><dl><dt>returns</dt><dd><p>the oid of the indicated statement parameter. Parameter numbers start at 0. This function is only useful when inspecting the result of <code>#describe_prepared</code>. For other types of queries it will return zero.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-fmod"><a href="#method-fmod" class="anchor"></a><code><span class="keyword">method</span> fmod : int <span>&#45;&gt;</span> int</code></dt><dd><p><code>#fmod n</code></p><dl><dt>returns</dt><dd><p>type-specific modification data of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-fsize"><a href="#method-fsize" class="anchor"></a><code><span class="keyword">method</span> fsize : int <span>&#45;&gt;</span> int</code></dt><dd><p><code>#fsize n</code></p><dl><dt>returns</dt><dd><p>size in bytes of the <code>n</code>th field.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-binary_tuples"><a href="#method-binary_tuples" class="anchor"></a><code><span class="keyword">method</span> binary_tuples : bool</code></dt><dd><p><code>#binary_tuples</code></p><dl><dt>returns</dt><dd><p><code>true</code> iff result contains binary tuple data.</p></dd></dl></dd></dl><aside><p>Retrieving SELECT Result Values</p></aside><dl><dt class="spec method" id="method-getvalue"><a href="#method-getvalue" class="anchor"></a><code><span class="keyword">method</span> getvalue : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string</code></dt><dd><p><code>#getvalue tuple field</code></p><dl><dt>returns</dt><dd><p>value of <code>field</code> in <code>tuple</code>.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_escaped_value"><a href="#method-get_escaped_value" class="anchor"></a><code><span class="keyword">method</span> get_escaped_value : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string</code></dt><dd><p><code>#get_escaped_value tuple field</code></p><dl><dt>returns</dt><dd><p>escaped value of <code>field</code> in <code>tuple</code>.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-getisnull"><a href="#method-getisnull" class="anchor"></a><code><span class="keyword">method</span> getisnull : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> bool</code></dt><dd><p><code>#getisnull tuple field</code> tests for a NULL-value of <code>field</code> in <code>tuple</code>.</p><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-getlength"><a href="#method-getlength" class="anchor"></a><code><span class="keyword">method</span> getlength : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dd><p><code>#getlength tuple field</code></p><dl><dt>returns</dt><dd><p>length of value in <code>field</code> of <code>tuple</code> in bytes.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if field out of range.</p></dd></dl></dd></dl><aside><p>Retrieving Non-SELECT Result Information</p></aside><dl><dt class="spec method" id="method-cmd_status"><a href="#method-cmd_status" class="anchor"></a><code><span class="keyword">method</span> cmd_status : string</code></dt><dd><p><code>#cmd_status</code></p><dl><dt>returns</dt><dd><p>status of SQL-command associated with result.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-cmd_tuples"><a href="#method-cmd_tuples" class="anchor"></a><code><span class="keyword">method</span> cmd_tuples : string</code></dt><dd><p><code>#cmd_tuples</code></p><dl><dt>returns</dt><dd><p>number of rows affected by the SQL command.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-oid_value"><a href="#method-oid_value" class="anchor"></a><code><span class="keyword">method</span> oid_value : <a href="../index.html#type-oid">oid</a></code></dt><dd><p><code>#cmd_tuples</code></p><dl><dt>returns</dt><dd><p>the object ID of the inserted row if the SQL command was an INSERT that inserted exactly one row into a table that has OIDs. Otherwise, returns <code>invalid_oid</code>.</p></dd></dl></dd></dl><aside><p>High-level routines</p></aside><dl><dt class="spec method" id="method-get_fnames"><a href="#method-get_fnames" class="anchor"></a><code><span class="keyword">method</span> get_fnames : <span>string array</span></code></dt><dd><p><code>#get_fnames</code></p><dl><dt>returns</dt><dd><p>array of field names.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_fnames_lst"><a href="#method-get_fnames_lst" class="anchor"></a><code><span class="keyword">method</span> get_fnames_lst : <span>string list</span></code></dt><dd><p><code>#get_fnames_lst</code></p><dl><dt>returns</dt><dd><p>list of field names.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_tuple"><a href="#method-get_tuple" class="anchor"></a><code><span class="keyword">method</span> get_tuple : int <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p><code>#get_tuple n</code></p><dl><dt>returns</dt><dd><p>all fields of the <code>n</code>th tuple.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_tuple_lst"><a href="#method-get_tuple_lst" class="anchor"></a><code><span class="keyword">method</span> get_tuple_lst : int <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>#get_tuple_lst n</code></p><dl><dt>returns</dt><dd><p>all fields of the <code>n</code>th tuple as list.</p></dd></dl><dl><dt>raises Error</dt><dd><p>if tuple out of range.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_all"><a href="#method-get_all" class="anchor"></a><code><span class="keyword">method</span> get_all : <span><span>string array</span> array</span></code></dt><dd><p><code>#get_all</code></p><dl><dt>returns</dt><dd><p>all tuples with all fields.</p></dd></dl></dd></dl><dl><dt class="spec method" id="method-get_all_lst"><a href="#method-get_all_lst" class="anchor"></a><code><span class="keyword">method</span> get_all_lst : <span><span>string list</span> list</span></code></dt><dd><p><code>#get_all</code></p><dl><dt>returns</dt><dd><p>all tuples with all fields as lists.</p></dd></dl></dd></dl></div></body></html>